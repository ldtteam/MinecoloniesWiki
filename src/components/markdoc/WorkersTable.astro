---
import { getCollection } from 'astro:content';

import WorkerName from './WorkerName.astro';

const workers = await getCollection('workers');
---

<table class="table table-hover">
  <thead>
    <tr>
      <th>Worker</th>
      <th>Primary Skill</th>
      <th>Primary Skill Effect</th>
      <th>Secondary Skill</th>
      <th>Secondary Skill Effect</th>
    </tr>
  </thead>
  <tbody>
    {
      workers.map((worker) => (
        <tr>
          <td>
            <WorkerName name={worker.id} />
          </td>
          <td>{worker.data.traits.primary ?? '-'}</td>
          <td>{worker.data.effects.primary ?? '-'}</td>
          <td>{worker.data.traits.secondary ?? '-'}</td>
          <td>{worker.data.effects.secondary ?? '-'}</td>
        </tr>
      ))
    }
  </tbody>
</table>
