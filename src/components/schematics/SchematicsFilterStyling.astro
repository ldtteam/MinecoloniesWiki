---
import { getCollection } from 'astro:content';
import * as sass from 'sass';

let buildingFilters = (await getCollection('buildings'))
  .map(
    (building) =>
      sass.compileString(`#filter-list[data-filter-building*='${building.id}'] {
        .schematic-card[data-filter-building='${building.id}'] {
          display: block !important;
        }
      }`).css
  )
  .join('\n');

buildingFilters += `\n\n#filter-list[data-filter-building] .schematic-card { 
  display: none;
}`;
---

<style set:html={buildingFilters}></style>
