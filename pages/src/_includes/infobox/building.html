{% assign key = include.key | strip | default "" %}
{% if key != "" %}
    {% assign building = site.data.buildinginfo[key] %}
    {% assign blocks = "" | split: "" %}

    {% if building.workers | size != 0 %}
        {% capture workerblock %}
            {% for worker in building.workers %}
                <div class="row section-text text-left">
                    <div class="col">
                        {% if forloop.first %}
                            <p>
                                <strong>Worker:</strong>
                            </p>
                        {% endif %}
                    </div>
                    <div class="col">
                        <p>
                            <a href="../workers/{{ worker.value }}">{{ worker.name }}</a>
                        </p>
                    </div>
                </div>
            {% endfor %}
        {% endcapture %}
        {% assign blocks = blocks | push: workerblock %}
    {% endif %}

    {% if building.recipes | size != 0 %}
        {% capture recipeblock %}
            {% for recipe in building.recipes %}
                <div class="row section-text text-center infobox-recipe-row">
                    <div class="col-12">
                        <recipe>{{ recipe }}</recipe>
                    </div>
                </div>
            {% endfor %}
        {% endcapture %}
        {% assign blocks = blocks | push: recipeblock %}
    {% endif %}

    {% include infobox/reuse/core.html title=building.name image=building.image alt=building.name blocks=blocks %}
{% endif %}