columns:
  - title: First column
  - title: Second column
  - title: Third column
  - title: Fourth column
  - title: Fifth column
  - title: Terminal research
    terminal: true
trees:
  civilian:
    name: Civilian
    description: ""
    chains:
      - name: Stamina
        requirements:
          - type: item
            item: Carrot
        unlocks:
          - type: building
            building: hospital
        children:
          - name: Band Aid
            requirements:
              - type: building
                building: library
                level: 2
              - type: item
                item: Golden Carrot
            unlocks:
              - type: healing:percent
                percentage: 10
            children:
              - name: Healing Cream
                requirements:
                  - type: building
                    building: library
                    level: 3
                  - type: item
                    item: Golden Carrot
                    amount: 8
                unlocks:
                  - type: healing:percent
                    percentage: 25
                children:
                  - name: Bandages
                    requirements:
                      - type: building
                        building: library
                        level: 4
                      - type: item
                        item: Golden Carrot
                        amount: 16
                    unlocks:
                      - type: healing:percent
                        percentage: 50
                    children:
                      - name: Compress
                        requirements:
                          - type: building
                            building: library
                            level: 5
                          - type: item
                            item: Golden Carrot
                            amount: 32
                        unlocks:
                          - type: healing:percent
                            percentage: 100
                        children:
                          - name: Cast
                            requirements:
                              - type: item
                                item: Golden Carrot
                                amount: 64
                            unlocks:
                              - type: healing:percent
                                percentage: 200
          - name: Resistance
            requirements:
              - type: building
                building: restaurant
                level: 2
              - type: item
                item: Golden Apple
            unlocks:
              - type: healing:saturation
                saturation: 95
            children:
              - name: Resilience
                requirements:
                  - type: building
                    building: restaurant
                    level: 3
                  - type: item
                    item: Golden Apple
                    amount: 8
                unlocks:
                  - type: healing:saturation
                    saturation: 90
                children:
                  - name: Vitality
                    requirements:
                      - type: building
                        building: restaurant
                        level: 4
                      - type: item
                        item: Golden Apple
                        amount: 16
                    unlocks:
                      - type: healing:saturation
                        saturation: 85
                    children:
                      - name: Fortitude
                        requirements:
                          - type: building
                            building: restaurant
                            level: 5
                          - type: item
                            item: Golden Apple
                            amount: 32
                        unlocks:
                          - type: healing:saturation
                            saturation: 80
                        children:
                          - name: Indefatigability
                            requirements:
                              - type: item
                                item: Golden Apple
                                amount: 64
                            unlocks:
                              - type: healing:saturation
                                saturation: 50
      - name: Keen
        requirements:
          - type: building
            building: house
            level: 3
          - type: item
            item: Books
            amount: 3
        unlocks:
          - type: building
            building: library
        children:
          - name: Outpost
            requirements:
              - type: building
                building: house
                level: 4
              - type: item
                item: Steak
                amount: 64
            unlocks:
              - type: colonist:amount
                colonists: 50
            children:
              - name: Hamlet
                requirements:
                  - type: building
                    building: house
                    level: 5
                  - type: item
                    item: Steak
                    amount: 128
                unlocks:
                  - type: colonist:amount
                    colonists: 100
                children:
                  - name: Village
                    requirements:
                      - type: building
                        building: townhall
                        level: 4
                      - type: item
                        item: Steak
                        amount: 256
                    unlocks:
                      - type: colonist:amount
                        colonists: 150
                    children:
                      - name: City
                        requirements:
                          - type: building
                            building: townhall
                            level: 5
                          - type: item
                            item: Steak
                            amount: 512
                        unlocks:
                          - type: colonist:amount
                            max: true
          - name: Diligent
            requirements:
              - type: building
                building: library
                level: 2
              - type: item
                item: Books
                amount: 6
            unlocks:
              - type: colonist:level_up
                percentage: 5
            children:
              - name: Studious
                requirements:
                  - type: building
                    building: library
                    level: 3
                  - type: item
                    item: Books
                    amount: 12
                unlocks:
                  - type: colonist:level_up
                    percentage: 10
                children:
                  - name: Scholarly
                    requirements:
                      - type: building
                        building: library
                        level: 4
                      - type: item
                        item: Books
                        amount: 24
                    unlocks:
                      - type: colonist:level_up
                        percentage: 25
                    children:
                      - name: Reflective
                        requirements:
                          - type: building
                            building: library
                            level: 5
                          - type: item
                            item: Books
                            amount: 48
                        unlocks:
                          - type: colonist:level_up
                            percentage: 50
                        children:
                          - name: Academic
                            requirements:
                              - type: item
                                item: Books
                                amount: 128
                            unlocks:
                              - type: colonist:level_up
                                percentage: 100
          - name: Rails
            requirements:
              - type: building
                building: courier
                level: 3
              - type: item
                item: Rails
                amount: 64
            unlocks:
              - Lets colonists use rails to get around. You don't need to provide them with
                minecarts, as they automagically create their own for each trip
            children:
              - name: Nimble
                requirements:
                  - type: building
                    building: townhall
                    level: 3
                  - type: item
                    item: Rabbit foot
                unlocks:
                  - type: colonist:speed
                    percentage: 5
                children:
                  - name: Agile
                    requirements:
                      - type: building
                        building: townhall
                        level: 4
                      - type: item
                        item: Rabbit feet
                        amount: 10
                    unlocks:
                      - type: colonist:speed
                        percentage: 10
                    children:
                      - name: Swift
                        requirements:
                          - type: building
                            building: townhall
                            level: 5
                          - type: item
                            item: Rabbit feet
                            amount: 32
                        unlocks:
                          - type: colonist:speed
                            percentage: 15
                        children:
                          - name: Athlete
                            requirements:
                              - type: item
                                item: Rabbit feet
                                amount: 64
                            unlocks:
                              - type: colonist:speed
                                percentage: 25
          - name: Aaaioooiooo
            requirements:
              - type: building
                building: house
                level: 3
              - type: item
                item: Vines
                amount: 64
            unlocks:
              - Colonists can climb vines
      - name: First Aid
        requirements:
          - type: building
            building: townhall
          - type: item
            item: Hay Bales
            amount: 8
        unlocks:
          - type: colonist:health
            hearts: 1
        children:
          - name: First Aid II
            requirements:
              - type: building
                building: townhall
                level: 2
              - type: item
                item: Hay Bales
                amount: 16
            unlocks:
              - type: colonist:health
                hearts: 2
            children:
              - name: Lifesaver
                requirements:
                  - type: building
                    building: townhall
                    level: 3
                  - type: item
                    item: Hay Bales
                    amount: 32
                unlocks:
                  - type: colonist:health
                    hearts: 3
                children:
                  - name: Lifesaver II
                    requirements:
                      - type: building
                        building: townhall
                        level: 4
                      - type: item
                        item: Hay Bales
                        amount: 64
                    unlocks:
                      - type: colonist:health
                        hearts: 4
                    children:
                      - name: Guardian Angel
                        requirements:
                          - type: building
                            building: townhall
                            level: 5
                          - type: item
                            item: Hay Bales
                            amount: 128
                        unlocks:
                          - type: colonist:health
                            hearts: 5
                        children:
                          - name: Guardian Angel II
                            requirements:
                              - type: item
                                item: Hay Bales
                                amount: 256
                            unlocks:
                              - type: colonist:health
                                hearts: 10
          - name: Circus
            requirements:
              - type: building
                building: restaurant
                level: 2
              - type: item
                item: Cake
            unlocks:
              - type: colonist:happiness
                percentage: 5
            children:
              - name: Festival
                requirements:
                  - type: building
                    building: restaurant
                    level: 3
                  - type: item
                    item: Cakes
                    amount: 9
                unlocks:
                  - type: colonist:happiness
                    percentage: 10
                children:
                  - name: Spectacle
                    requirements:
                      - type: building
                        building: restaurant
                        level: 4
                      - type: item
                        item: Cakes
                        amount: 18
                    unlocks:
                      - type: colonist:happiness
                        percentage: 15
                    children:
                      - name: Opera
                        requirements:
                          - type: building
                            building: restaurant
                            level: 5
                          - type: item
                            item: Cakes
                            amount: 27
                        unlocks:
                          - type: colonist:happiness
                            percentage: 20
                        children:
                          - name: Theater
                            requirements:
                              - type: item
                                item: Enchanted golden apples
                                amount: 16
                            unlocks:
                              - type: colonist:happiness
                                percentage: 50
              - name: Nightowl
                requirements:
                  - type: building
                    building: library
                    level: 2
                  - type: item
                    item: Golden carrots
                    amount: 25
                unlocks:
                  - type: colonist:bedtime
                    hours: 1
                children:
                  - name: Nightowl II
                    requirements:
                      - type: building
                        building: townhall
                        level: 3
                      - type: item
                        item: Golden carrots
                        amount: 75
                    unlocks:
                      - type: colonist:bedtime
                        hours: 2
                        cumulative: true
          - name: Gourmand
            requirements:
              - type: building
                building: restaurant
                level: 2
              - type: item
                item: Cookies
                amount: 32
            unlocks:
              - type: colonist:saturation
                percentage: 10
            children:
              - name: Gorger
                requirements:
                  - type: building
                    building: restaurant
                    level: 3
                  - type: item
                    item: Cookies
                    amount: 64
                unlocks:
                  - type: colonist:saturation
                    percentage: 15
                children:
                  - name: Stuffer
                    requirements:
                      - type: building
                        building: restaurant
                        level: 4
                      - type: item
                        item: Cookies
                        amount: 128
                    unlocks:
                      - type: colonist:saturation
                        percentage: 25
                    children:
                      - name: Epicure
                        requirements:
                          - type: building
                            building: restaurant
                            level: 5
                          - type: item
                            item: Cookies
                            amount: 256
                        unlocks:
                          - type: colonist:saturation
                            percentage: 50
                        children:
                          - name: Glutton
                            requirements:
                              - type: item
                                item: Cookies
                                amount: 512
                            unlocks:
                              - type: colonist:saturation
                                percentage: 100
      - name: Higher Learning
        requirements:
          - type: building
            building: house
            level: 3
          - type: item
            item: Books
            amount: 3
        unlocks:
          - type: building
            building: school
        children:
          - name: More Books
            requirements:
              - type: building
                building: school
              - type: item
                item: Cookies
                amount: 32
            unlocks:
              - type: worker:teacher:effectiveness
                percentage: 5
            children:
              - name: Bookworm
                requirements:
                  - type: building
                    building: school
                    level: 3
                  - type: item
                    item: Bookshelves
                    amount: 6
                unlocks:
                  - type: worker:teacher:effectiveness
                    percentage: 10
                children:
                  - name: Bachelor
                    requirements:
                      - type: building
                        building: library
                        level: 3
                      - type: item
                        item: Bookshelves
                        amount: 12
                    unlocks:
                      - type: worker:teacher:effectiveness
                        percentage: 25
                    children:
                      - name: Master
                        requirements:
                          - type: building
                            building: library
                            level: 5
                          - type: item
                            item: Bookshelves
                            amount: 32
                        unlocks:
                          - type: worker:teacher:effectiveness
                            percentage: 50
                        children:
                          - name: PhD
                            requirements:
                              - type: item
                                item: Bookshelves
                                amount: 64
                            unlocks:
                              - type: worker:teacher:effectiveness
                                percentage: 100
          - name: Nurture
            requirements:
              - type: building
                building: school
              - type: item
                item: Cooked chicken
                amount: 32
            unlocks:
              - type: colonist:child:grow_up
                percentage: 5
            children:
              - name: Hormones
                requirements:
                  - type: building
                    building: school
                    level: 3
                  - type: item
                    item: Cooked chicken
                    amount: 64
                unlocks:
                  - type: colonist:child:grow_up
                    percentage: 10
                children:
                  - name: Puberty
                    requirements:
                      - type: building
                        building: library
                        level: 3
                      - type: item
                        item: Cooked chicken
                        amount: 128
                    unlocks:
                      - type: colonist:child:grow_up
                        percentage: 25
                    children:
                      - name: Growth
                        requirements:
                          - type: building
                            building: library
                            level: 5
                          - type: item
                            item: Cooked chicken
                            amount: 256
                        unlocks:
                          - type: colonist:child:grow_up
                            percentage: 50
                        children:
                          - name: Beanstalk
                            requirements:
                              - type: item
                                item: Cooked chicken
                                amount: 512
                            unlocks:
                              - type: colonist:child:grow_up
                                percentage: 100
      - name: Ambition
        requirements:
          - type: item
            item: Diamond
            amount: 1
        unlocks:
          - type: building
            building: mysticalsite
      - name: Remembrance
        requirements:
          - type: building
            building: townhall
            level: 2
          - type: item
            item: Bones
            amount: 8
        unlocks:
          - type: building
            building: graveyard
        children:
          - name: Resurrection Chance I
            requirements:
              - type: building
                building: graveyard
                level: 3
              - type: item
                item: Ghast Tear
            unlocks:
              - type: worker:undertaker:resurrect_chance
                percentage: 1
            children:
              - name: Resurrection Chance II
                requirements:
                  - type: building
                    building: graveyard
                    level: 5
                  - type: item
                    item: Chorus fruit
                    amount: 16
                unlocks:
                  - type: worker:undertaker:resurrect_chance
                    percentage: 2
                children:
                  - name: Raising The Dead
                    requirements:
                      - type: building
                        building: graveyard
                        level: 5
                      - type: item
                        item: Totem of Undying
                    unlocks:
                      - type: worker:custom_template
                        template: "{0} can use Totems of Undying to increase chance of resurrection"
                        worker: undertaker
                        plural: true
          - name: Grave Decay I
            requirements:
              - type: building
                building: graveyard
                level: 3
              - type: item
                item: Rotten flesh
                amount: 64
            unlocks:
              - type: worker:undertaker:grave_despawn
                minutes: 2
            children:
              - name: Grave Decay II
                requirements:
                  - type: building
                    building: graveyard
                    level: 5
                  - type: item
                    item: Nether wart blocks
                    amount: 8
                unlocks:
                  - type: worker:undertaker:grave_despawn
                    minutes: 3
          - name: Undertaker Emergency
            requirements:
              - type: building
                building: graveyard
                level: 2
              - type: item
                item: Set of Iron Boots
            unlocks:
              - type: worker:custom_template
                template: "{0} run toward graves instead of walking"
                worker: undertaker
                plural: true
  combat:
    name: Combat
    description: ""
    chains:
      - name: Accuracy
        requirements:
          - type: building
            building: guardtower
            level: 4
          - type: item
            item: Iron ingots
            amount: 16
        unlocks:
          - Reduces the time Guards sleep by **50%**
        children:
          - name: Quick Draw
            requirements:
              - type: building
                building: barracks
                level: 2
              - type: item
                item: Blocks of Iron
                amount: 2
            unlocks:
              - type: worker:guard:damage
                hearts: 0.5
                worker: knight
                plural: true
            children:
              - name: Power Attack
                requirements:
                  - type: building
                    building: combatacademy
                    level: 3
                  - type: item
                    item: Blocks of Iron
                    amount: 4
                unlocks:
                  - type: worker:guard:damage
                    hearts: 1
                    worker: knight
                    plural: true
                children:
                  - name: Cleave
                    requirements:
                      - type: building
                        building: guardtower
                        level: 10
                      - type: item
                        item: Blocks of Iron
                        amount: 8
                    unlocks:
                      - type: worker:guard:damage
                        hearts: 1.5
                        worker: knight
                        plural: true
                    children:
                      - name: Mighty Cleave
                        requirements:
                          - type: building
                            building: barracks
                            level: 5
                          - type: item
                            item: Blocks of Iron
                            amount: 16
                        unlocks:
                          - type: worker:guard:damage
                            hearts: 2
                            worker: knight
                            plural: true
                        children:
                          - name: Savage Strike
                            requirements:
                              - type: item
                                item: Blocks of Iron
                                amount: 32
                            unlocks:
                              - type: worker:guard:damage
                                hearts: 4
                                worker: knight
                                plural: true
          - name: Precise Shot
            requirements:
              - type: building
                building: barracks
                level: 3
              - type: item
                item: Flint
                amount: 16
            unlocks:
              - type: worker:guard:damage
                hearts: 0.5
                worker: archer
                plural: true
            children:
              - name: Penetrating Shot
                requirements:
                  - type: building
                    building: archery
                    level: 3
                  - type: item
                    item: Flint
                    amount: 32
                unlocks:
                  - type: worker:guard:damage
                    hearts: 1
                    worker: archer
                    plural: true
                children:
                  - name: Piercing Shot
                    requirements:
                      - type: building
                        building: guardtower
                        level: 10
                      - type: item
                        item: Flint
                        amount: 64
                    unlocks:
                      - type: worker:guard:damage
                        hearts: 1.5
                        worker: archer
                        plural: true
                    children:
                      - name: Wounding Shot
                        requirements:
                          - type: building
                            building: barracks
                            level: 5
                          - type: item
                            item: Flint
                            amount: 128
                        unlocks:
                          - type: worker:guard:damage
                            hearts: 2
                            worker: archer
                            plural: true
                        children:
                          - name: Deadly Aim
                            requirements:
                              - type: item
                                item: Flint
                                amount: 256
                            unlocks:
                              - type: worker:guard:damage
                                hearts: 4
                                worker: archer
                                plural: true
      - name: Tactic Training
        requirements:
          - type: building
            building: guardtower
            level: 3
          - type: item
            item: Blocks of Iron
            amount: 3
        unlocks:
          - type: building
            building: barracks
        children:
          - name: Improved Swords
            requirements:
              - type: building
                building: barracks
                level: 3
              - type: item
                item: Blocks of Iron
                amount: 6
            unlocks:
              - type: building
                building: combatacademy
            children:
              - name: Squire Training
                requirements:
                  - type: building
                    building: combatacademy
                    level: 3
                  - type: item
                    item: Shields
                    amount: 4
                unlocks:
                  - type: worker:knight:block
                    percentage: 5
                children:
                  - name: Knight Training
                    requirements:
                      - type: building
                        building: combatacademy
                        level: 4
                      - type: item
                        item: Shields
                        amount: 8
                    unlocks:
                      - type: worker:knight:block
                        percentage: 10
                    children:
                      - name: Captain Training
                        requirements:
                          - type: building
                            building: combatacademy
                            level: 5
                          - type: item
                            item: Shields
                            amount: 16
                        unlocks:
                          - type: worker:knight:block
                            percentage: 25
                        children:
                          - name: Captain Of The Guard
                            requirements:
                              - type: item
                                item: Shields
                                amount: 27
                            unlocks:
                              - type: worker:knight:block
                                percentage: 50
          - name: Improved Bows
            requirements:
              - type: building
                building: barracks
                level: 3
              - type: item
                item: Blocks of Iron
                amount: 6
            unlocks:
              - type: building
                building: archery
            children:
              - name: Trick Shot
                requirements:
                  - type: building
                    building: archery
                    level: 3
                  - type: item
                    item: Bows
                    amount: 5
                unlocks:
                  - type: worker:archer:multishot
                    percentage: 5
                children:
                  - name: Multi Shot
                    requirements:
                      - type: building
                        building: archery
                        level: 4
                      - type: item
                        item: Bows
                        amount: 9
                    unlocks:
                      - type: worker:archer:multishot
                        percentage: 10
                    children:
                      - name: Rapid Shot
                        requirements:
                          - type: building
                            building: archery
                            level: 5
                          - type: item
                            item: Bows
                            amount: 18
                        unlocks:
                          - type: worker:archer:multishot
                            percentage: 25
                        children:
                          - name: Master Bowman
                            requirements:
                              - type: item
                                item: Bows
                                amount: 27
                            unlocks:
                              - type: worker:archer:multishot
                                percentage: 50
      - name: Avoidance
        requirements:
          - type: building
            building: guardtower
            level: 3
          - type: item
            item: Blocks of Iron
            amount: 3
        unlocks:
          - type: worker:custom_template
            template: "{0} will be able use shields"
            worker: knight
            plural: true
        children:
          - name: Parry
            requirements:
              - type: building
                building: smeltery
              - type: item
                item: Iron ingots
                amount: 16
            unlocks:
              - type: worker:guard:armor
                worker: knight
                percentage: 5
            children:
              - name: Riposte
                requirements:
                  - type: building
                    building: combatacademy
                  - type: item
                    item: Iron ingots
                    amount: 32
                unlocks:
                  - type: worker:guard:armor
                    worker: knight
                    percentage: 10
                children:
                  - name: Duelist
                    requirements:
                      - type: building
                        building: smeltery
                        level: 3
                      - type: item
                        item: Iron ingots
                        amount: 64
                    unlocks:
                      - type: worker:guard:armor
                        worker: knight
                        percentage: 25
                    children:
                      - name: Provost
                        requirements:
                          - type: building
                            building: combatacademy
                            level: 5
                          - type: item
                            item: Diamonds
                            amount: 16
                        unlocks:
                          - type: worker:guard:armor
                            worker: knight
                            percentage: 50
                        children:
                          - name: Master Swordsman
                            requirements:
                              - type: item
                                item: Diamonds
                                amount: 64
                            unlocks:
                              - type: worker:guard:armor
                                worker: knight
                                percentage: 100
          - name: Dodge
            requirements:
              - type: building
                building: smeltery
              - type: item
                item: Leather
                amount: 16
            unlocks:
              - type: worker:guard:armor
                worker: archer
                percentage: 5
            children:
              - name: Improved Dodge
                requirements:
                  - type: building
                    building: archery
                  - type: item
                    item: Leather
                    amount: 32
                unlocks:
                  - type: worker:guard:armor
                    worker: archer
                    percentage: 10
                children:
                  - name: Evasion
                    requirements:
                      - type: building
                        building: smeltery
                        level: 3
                      - type: item
                        item: Leather
                        amount: 64
                    unlocks:
                      - type: worker:guard:armor
                        worker: archer
                        percentage: 25
                    children:
                      - name: Improved Evasion
                        requirements:
                          - type: building
                            building: archery
                            level: 5
                          - type: item
                            item: Diamonds
                            amount: 16
                        unlocks:
                          - type: worker:guard:armor
                            worker: archer
                            percentage: 50
                        children:
                          - name: Agile Archer
                            requirements:
                              - type: item
                                item: Diamonds
                                amount: 64
                            unlocks:
                              - type: worker:guard:armor
                                worker: archer
                                percentage: 100
      - name: Improved Leather
        requirements:
          - type: building
            building: townhall
          - type: item
            item: Leather
            amount: 32
        unlocks:
          - type: worker:guard:armor_durability
            percentage: 10
        children:
          - name: Boiled Leather
            requirements:
              - type: building
                building: townhall
                level: 2
              - type: item
                item: Leather
                amount: 64
            unlocks:
              - type: worker:guard:armor_durability
                percentage: 20
            children:
              - name: Iron Skin
                requirements:
                  - type: building
                    building: townhall
                    level: 3
                  - type: item
                    item: Iron Ingots
                    amount: 16
                unlocks:
                  - type: worker:guard:armor_durability
                    percentage: 30
                children:
                  - name: Iron Armor
                    requirements:
                      - type: building
                        building: townhall
                        level: 4
                      - type: item
                        item: Iron Ingots
                        amount: 32
                    unlocks:
                      - type: worker:guard:armor_durability
                        percentage: 40
                    children:
                      - name: Steel Armor
                        requirements:
                          - type: building
                            building: townhall
                            level: 5
                          - type: item
                            item: Iron Ingots
                            amount: 64
                        unlocks:
                          - type: worker:guard:armor_durability
                            percentage: 50
                        children:
                          - name: Diamond Skin
                            requirements:
                              - type: item
                                item: Diamonds
                                amount: 64
                            unlocks:
                              - type: worker:guard:armor_durability
                                percentage: 100
                      - name: Plate Armor
                        requirements:
                          - type: building
                            building: blacksmith
                            level: 4
                          - type: item
                            item: Iron Ingots
                            amount: 32
                        unlocks:
                          - type: worker:custom_template
                            template: "{0} learn [plate armor](/source/items/platearmor) recipes"
                            worker: blacksmith
                            plural: true
          - name: Regeneration
            requirements:
              - type: building
                building: guardtower
              - type: item
                item: Emerald
            unlocks:
              - Lets Guards run away when they have low health
            children:
              - name: Feint
                requirements:
                  - type: building
                    building: guardtower
                    level: 4
                  - type: item
                    item: Emeralds
                    amount: 8
                unlocks:
                  - type: worker:guard:flee_damage
                    percentage: 20
                children:
                  - name: Fear
                    requirements:
                      - type: building
                        building: guardtower
                        level: 8
                      - type: item
                        item: Emeralds
                        amount: 16
                    unlocks:
                      - type: worker:guard:flee_damage
                        percentage: 30
                    children:
                      - name: Retreat
                        requirements:
                          - type: building
                            building: guardtower
                            level: 12
                          - type: item
                            item: Emeralds
                            amount: 32
                        unlocks:
                          - type: worker:guard:flee_damage
                            percentage: 40
                        children:
                          - name: Full Retreat
                            requirements:
                              - type: item
                                item: Emeralds
                                amount: 64
                            unlocks:
                              - type: worker:guard:flee_damage
                                percentage: 100
              - name: Avoid
                requirements:
                  - type: building
                    building: guardtower
                    level: 4
                  - type: item
                    item: Emeralds
                    amount: 8
                unlocks:
                  - type: worker:guard:flee_speed
                    percentage: 10
                children:
                  - name: Evade
                    requirements:
                      - type: building
                        building: guardtower
                        level: 8
                      - type: item
                        item: Emeralds
                        amount: 16
                    unlocks:
                      - type: worker:guard:flee_speed
                        percentage: 20
                    children:
                      - name: Flee
                        requirements:
                          - type: building
                            building: guardtower
                            level: 12
                          - type: item
                            item: Emeralds
                            amount: 32
                        unlocks:
                          - type: worker:guard:flee_speed
                            percentage: 30
                        children:
                          - name: Hotfoot
                            requirements:
                              - type: item
                                item: Emeralds
                                amount: 64
                            unlocks:
                              - type: worker:guard:flee_speed
                                percentage: 50
      - name: Taunt
        requirements:
          - type: building
            building: guardtower
          - type: item
            item: Rotten Flesh
            amount: 8
          - type: item
            item: Bones
            amount: 8
          - type: item
            item: Spider eyes
            amount: 8
        unlocks:
          - After a Guard attacks a mob, the mob targets the Guard instead of colonists
            or the player
        children:
          - name: Consume Arrows
            requirements:
              - type: building
                building: guardtower
                level: 2
              - type: item
                item: Arrows
                amount: 64
            unlocks:
              - type: worker:custom_template
                template: "{0} use arrows for +2 damage"
                worker: archer
                plural: true
            children:
              - name: Arrow Piercing
                requirements:
                  - type: building
                    building: archery
                  - type: item
                    item: Arrows
                    amount: 64
                  - type: item
                    item: Redstone Dust
                    amount: 64
                unlocks:
                  - type: worker:custom_template
                    template: "{0} gain Piercing II"
                    worker: archer
                    plural: true
                children:
                  - name: Whirdwind
                    requirements:
                      - type: building
                        building: archery
                      - type: item
                        item: Redstone Dust
                        amount: 64
                      - type: item
                        item: Gold Ingot
                        amount: 64
                      - type: item
                        item: Lapis Lazuli
                        amount: 128
                    unlocks:
                      - type: worker:custom_template
                        template:
                          "{0} learn special attack that damages and knocks back nearby
                          enemies"
                        worker: knight
                        plural: true
              - name: Panoramix
                requirements:
                  - type: building
                    building: barracks
                    level: 3
                  - type: item
                    item: Mistletoe
                    amount: 64
                unlocks:
                  - type: worker:custom_template
                    template: "{0} request magic potions to unlock new abilities"
                    worker: druid
                    plural: true
  technology:
    name: Technology
    description: ""
    chains:
      - name: Biodegradable
        requirements:
          - type: building
            building: farm
            level: 3
          - type: item
            item: Bonemeal
            amount: 64
        unlocks:
          - type: building
            building: composter
        children:
          - name: Podzol Chance
            requirements:
              - type: building
                building: composter
                level: 2
              - type: item
                item: Podzol
                amount: 8
            unlocks:
              - type: worker:composter:podzol
                percentage: 100
            children:
              - name: Podzol Chance II
                requirements:
                  - type: building
                    building: composter
                    level: 3
                  - type: item
                    item: Podzol
                    amount: 32
                unlocks:
                  - type: worker:composter:podzol
                    percentage: 100
          - name: Flower Power
            requirements:
              - type: building
                building: composter
                level: 3
              - type: item
                item: Compost
                amount: 64
            unlocks:
              - type: building
                building: florist
            children:
              - name: Rainbow Heaven
                requirements:
                  - type: building
                    building: florist
                    level: 3
                  - type: item
                    item: Poppies
                    amount: 64
                unlocks:
                  - type: building
                    building: dyer
                children:
                  - name: Honey Pot
                    requirements:
                      - type: building
                        building: apiary
                        level: 3
                      - type: item
                        item: Beehive
                        amount: 16
                    unlocks:
                      - type: worker:custom_template
                        template: "{0} can harvest both honey bottles and combs at once"
                        worker: beekeeper
                        plural: true
          - name: Let It Grow
            requirements:
              - type: building
                building: farm
                level: 3
              - type: item
                item: Compost
                amount: 16
            unlocks:
              - type: building
                building: plantation
            children:
              - name: Double Trouble
                requirements:
                  - type: building
                    building: plantation
                    level: 3
                  - type: item
                    item: Bamboo
                    amount: 64
                  - type: item
                    item: Sugar Cane
                    amount: 64
                  - type: item
                    item: Cactus
                    amount: 64
                unlocks:
                  - type: building:custom_template
                    template: "{0} grow two crops at once"
                    worker: plantation
                    plural: true
          - name: Bonemeal
            requirements:
              - type: building
                building: mine
                level: 3
              - type: item
                item: Wheat seeds
                amount: 64
            unlocks:
              - type: worker:farmer:harvest
                percentage: 10
            children:
              - name: Dung
                requirements:
                  - type: building
                    building: mine
                    level: 4
                  - type: item
                    item: Wheat seeds
                    amount: 128
                unlocks:
                  - type: worker:farmer:harvest
                    percentage: 25
                children:
                  - name: Compost
                    requirements:
                      - type: building
                        building: mine
                        level: 5
                      - type: item
                        item: Wheat seeds
                        amount: 256
                    unlocks:
                      - type: worker:farmer:harvest
                        percentage: 50
                    children:
                      - name: Fertilizer
                        requirements:
                          - type: building
                            building: smeltery
                            level: 3
                          - type: item
                            item: Wheat seeds
                            amount: 512
                        unlocks:
                          - type: worker:farmer:harvest
                            percentage: 75
                        children:
                          - name: Magic Compost
                            requirements:
                              - type: item
                                item: Wheat seeds
                                amount: 2048
                            unlocks:
                              - type: worker:farmer:harvest
                                percentage: 75
      - name: Soft Shoes
        requirements:
          - type: building
            building: farm
            level: 3
          - type: item
            item: Bonemeal
            amount: 64
        unlocks:
          - type: worker:custom_template
            template: "{0} will no longer trample crops"
            worker: farmer
            plural: true
      - name: More Scrolls
        requirements:
          - type: building
            building: enchantertower
            level: 3
          - type: item
            item: Paper
            amount: 64
          - type: item
            item: Ancient Tome
          - type: item
            item: Lapis Lazuli
            amount: 64
        unlocks:
          - type: worker:custom_template
            template: "{0} learns scroll recipes to locate workers and summon guards"
            worker: enchanter
            plural: true
        children:
          - name: Open the Nether
            requirements:
              - type: item
                item: Gilded Blackstone
                amount: 3
            unlocks:
              - type: building
                building: nethermine
            children:
              - name: Magic Potions
                requirements:
                  - type: item
                    item: Nether wart
                    amount: 16
                unlocks:
                  - type: building
                    building: alchemist
                children:
                  - name: Ocean's Heart
                    requirements:
                      - type: building
                        building: fisher
                        level: 4
                      - type: item
                        item: Heart of the Sea
                    unlocks:
                      - type: worker:custom_template
                        template: "{0} can find treasure outside the ocean"
                        worker: fisher
                        plural: true
      - name: Stone Cake
        requirements:
          - type: building
            building: mine
            level: 3
          - type: item
            item: Chiseled Stone Bricks
            amount: 64
        unlocks:
          - type: building
            building: stonemason
        children:
          - name: Rocking Roll
            requirements:
              - type: building
                building: stonemason
              - type: item
                item: Stone
                amount: 64
            unlocks:
              - type: building
                building: crusher
            children:
              - name: Gilded Hammer
                requirements:
                  - type: building
                    building: crusher
                    level: 3
                  - type: item
                    item: Gravel
                    amount: 64
                  - type: item
                    item: Sand
                    amount: 64
                  - type: item
                    item: Clay
                    amount: 64
                unlocks:
                  - type: building:custom_template
                    template: "{0} recipes cost 50% less"
                    building: crusher
                    plural: true
              - name: Knowledge of the Depth
                requirements:
                  - type: building
                    building: crusher
                    level: 3
                  - type: item
                    item: Deepslate
                    amount: 64
                unlocks:
                  - type: building:custom_template
                    template: "{0} can convert deepslate into tuff and tuff into cobblestone"
                    building: crusher
                    plural: true
              - name: Pave the Road
                requirements:
                  - type: building
                    building: crusher
                  - type: item
                    item: White Concrete
                    amount: 32
                unlocks:
                  - type: building
                    building: concretemixer
      - name: Woodwork
        requirements:
          - type: building
            building: forester
            level: 3
          - type: item
            item: Oak planks
            amount: 64
        unlocks:
          - type: building
            building: sawmill
        children:
          - name: Stringwork
            requirements:
              - type: building
                building: sawmill
              - type: item
                item: String
                amount: 16
            unlocks:
              - type: building
                building: fletcher
            children:
              - name: Hot Boots
                requirements:
                  - type: building
                    building: fletcher
                  - type: item
                    item: Leather
                    amount: 32
                  - type: item
                    item: Iron Ingot
                    amount: 16
                unlocks:
                  - type: worker:custom_template
                    template: "{0} have fire and lava immunity"
                    worker: miner
                    plural: true
          - name: Sieving
            requirements:
              - type: building
                building: fisher
                level: 3
              - type: item
                item: String
                amount: 64
            unlocks:
              - type: building
                building: sifter
            children:
              - name: Space
                requirements:
                  - type: building
                    building: mine
                    level: 3
                  - type: item
                    item: Rack
                    amount: 16
                unlocks:
                  - type: building:min_stock
                    percentage: 50
                children:
                  - name: Capacity
                    requirements:
                      - type: building
                        building: mine
                        level: 4
                      - type: item
                        item: Rack
                        amount: 32
                    unlocks:
                      - type: building:min_stock
                        percentage: 100
                    children:
                      - name: Full Stock
                        requirements:
                          - type: building
                            building: mine
                            level: 5
                          - type: item
                            item: Rack
                            amount: 64
                        unlocks:
                          - type: building:min_stock
                            percentage: 200
          - name: Memory Aid
            requirements:
              - type: building
                building: sawmill
              - type: item
                item: Paper
                amount: 32
            unlocks:
              - type: worker:recipes
                percentage: 25
            children:
              - name: Cheat Sheet
                requirements:
                  - type: building
                    building: sawmill
                    level: 2
                  - type: item
                    item: Paper
                    amount: 64
                unlocks:
                  - type: worker:recipes
                    percentage: 50
                children:
                  - name: Recipe Book
                    requirements:
                      - type: building
                        building: sawmill
                        level: 3
                      - type: item
                        item: Paper
                        amount: 128
                    unlocks:
                      - type: worker:recipes
                        percentage: 100
                    children:
                      - name: RTM
                        requirements:
                          - type: building
                            building: sawmill
                            level: 4
                          - type: item
                            item: Paper
                            amount: 256
                        unlocks:
                          - type: worker:recipes
                            percentage: 200
                        children:
                          - name: Rainman
                            requirements:
                              - type: item
                                item: Bucket of Salmon
                                amount: 27
                            unlocks:
                              - Colonists work in rain
                  - name: Deep Pockets
                    requirements:
                      - type: building
                        building: library
                        level: 4
                      - type: item
                        item: Emerald
                        amount: 64
                    unlocks:
                      - type: worker:inventory
                        amount: 9
                    children:
                      - name: Loaded
                        requirements:
                          - type: building
                            building: library
                            level: 5
                          - type: item
                            item: Emerald
                            amount: 128
                        unlocks:
                          - type: worker:inventory
                            amount: 18
                        children:
                          - name: Heavily Loaded
                            requirements:
                              - type: item
                                item: Emerald
                                amount: 256
                            unlocks:
                              - type: worker:inventory
                                amount: 27
              - name: Warehouse Master
                requirements:
                  - type: building
                    building: sawmill
                    level: 3
                  - type: item
                    item: Rack
                    amount: 3
                unlocks:
                  - type: building:custom_template
                    template: Add the option to select recipes based on {0} stock
                    building: warehouse
              - name: Builder Modes
                requirements:
                  - type: building
                    building: builder
                    level: 3
                  - type: item
                    item: Diamond Axe
                unlocks:
                  - type: worker:custom_template
                    template: Add the option to select different build-modes for your {0}
                    worker: builder
                    plural: true
      - name: Hot!
        requirements:
          - type: building
            building: mine
            level: 2
          - type: item
            item: Lava Bucket
            amount: 4
        unlocks:
          - type: building
            building: smelter
        children:
          - name: Is This Redstone?
            requirements:
              - type: item
                item: Redstone Dust
                amount: 128
            unlocks:
              - type: colonist:break_speed
                percentage: 10
            children:
              - name: Redstone Powered
                requirements:
                  - type: item
                    item: Redstone Dust
                    amount: 256
                unlocks:
                  - type: colonist:break_speed
                    percentage: 25
                children:
                  - name: Heavy Machinery
                    requirements:
                      - type: item
                        item: Redstone Dust
                        amount: 512
                    unlocks:
                      - type: colonist:break_speed
                        percentage: 50
                    children:
                      - name: What Is This Speed?
                        requirements:
                          - type: item
                            item: Redstone Dust
                            amount: 1024
                        unlocks:
                          - type: colonist:break_speed
                            percentage: 100
                        children:
                          - name: Lightning
                            requirements:
                              - type: item
                                item: Redstone Dust
                                amount: 2048
                            unlocks:
                              - type: colonist:break_speed
                                percentage: 200
          - name: The Flintstones
            requirements:
              - type: building
                building: smeltery
                level: 3
              - type: item
                item: Stone Bricks
                amount: 64
            unlocks:
              - type: building
                building: stonesmeltery
            children:
              - name: Know the End
                requirements:
                  - type: building
                    building: bakery
                    level: 3
                  - type: item
                    item: Chorus Fruit
                    amount: 64
                unlocks:
                  - type: worker:custom_template
                    template: "{0} learn endstone recipe"
                    worker: stonemason
                    plural: true
                  - type: worker:custom_template
                    template: "{0} learn chorus bread recipe"
                    worker: baker
                    plural: true
          - name: Those Lungs!
            requirements:
              - type: building
                building: smeltery
                level: 3
              - type: item
                item: Glass
                amount: 64
            unlocks:
              - type: building
                building: glassblower
      - name: Hitting Iron!
        requirements:
          - type: building
            building: mine
            level: 3
          - type: item
            item: Anvil
        unlocks:
          - type: building
            building: blacksmith
        children:
          - name: Strong
            requirements:
              - type: building
                building: blacksmith
              - type: item
                item: Diamond
                amount: 8
            unlocks:
              - type: colonist:tool:durability
                percentage: 5
            children:
              - name: Hardened
                requirements:
                  - type: building
                    building: blacksmith
                    level: 2
                  - type: item
                    item: Diamond
                    amount: 16
                unlocks:
                  - type: colonist:tool:durability
                    percentage: 10
                children:
                  - name: Reinforced
                    requirements:
                      - type: building
                        building: blacksmith
                        level: 3
                      - type: item
                        item: Diamond
                        amount: 32
                    unlocks:
                      - type: colonist:tool:durability
                        percentage: 25
                    children:
                      - name: Steel Bracing
                        requirements:
                          - type: building
                            building: blacksmith
                            level: 5
                          - type: item
                            item: Diamond
                            amount: 64
                        unlocks:
                          - type: colonist:tool:durability
                            percentage: 50
                        children:
                          - name: Diamond Coated
                            requirements:
                              - type: item
                                item: Diamond
                                amount: 128
                            unlocks:
                              - type: colonist:tool:durability
                                percentage: 90
          - name: Veinminer
            requirements:
              - type: building
                building: mine
              - type: item
                item: Iron Ore
                amount: 32
            unlocks:
              - type: worker:miner:ore
                percentage: 10
            children:
              - name: Good Veins
                requirements:
                  - type: building
                    building: mine
                    level: 2
                  - type: item
                    item: Iron Ore
                    amount: 64
                unlocks:
                  - type: worker:miner:ore
                    percentage: 25
                children:
                  - name: Rich Veins
                    requirements:
                      - type: building
                        building: blacksmith
                        level: 4
                      - type: item
                        item: Gold Ore
                        amount: 32
                    unlocks:
                      - type: worker:miner:ore
                        percentage: 50
                    children:
                      - name: Amazing Veins
                        requirements:
                          - type: building
                            building: blacksmith
                            level: 5
                          - type: item
                            item: Gold Ore
                            amount: 64
                        unlocks:
                          - type: worker:miner:ore
                            percentage: 100
                        children:
                          - name: Motherlode
                            requirements:
                              - type: item
                                item: Diamond Ore
                                amount: 64
                            unlocks:
                              - type: worker:miner:ore
                                percentage: 200
          - name: Ability
            requirements:
              - type: building
                building: mine
              - type: item
                item: Iron Ingot
                amount: 64
            unlocks:
              - type: colonist:build_speed
                percentage: 10
            children:
              - name: Skills
                requirements:
                  - type: building
                    building: mine
                    level: 2
                  - type: item
                    item: Iron Ingot
                    amount: 128
                unlocks:
                  - type: colonist:build_speed
                    percentage: 25
                children:
                  - name: Tools
                    requirements:
                      - type: building
                        building: blacksmith
                        level: 4
                      - type: item
                        item: Iron Ingot
                        amount: 256
                    unlocks:
                      - type: colonist:build_speed
                        percentage: 50
                    children:
                      - name: Seems Automatic
                        requirements:
                          - type: building
                            building: blacksmith
                            level: 5
                          - type: item
                            item: Iron Ingot
                            amount: 512
                        unlocks:
                          - type: colonist:build_speed
                            percentage: 100
                        children:
                          - name: Madness!
                            requirements:
                              - type: item
                                item: Iron Ingot
                                amount: 1024
                            unlocks:
                              - type: colonist:build_speed
                                percentage: 200
          - name: What ya Need?
            requirements:
              - type: building
                building: blacksmith
                level: 3
              - type: item
                item: Redstone Dust
                amount: 64
            unlocks:
              - type: building
                building: mechanic
            children:
              - name: Enhanced Gates I
                requirements:
                  - type: item
                    item: Wooden Gate
                    amount: 64
                  - type: item
                    item: Ancient Tome
                    amount: 2
                  - type: item
                    item: Block of Iron
                    amount: 5
                unlocks:
                  - type: gates:resistance
                    percentage: 100
                children:
                  - name: Enhanced Gates II
                    requirements:
                      - type: item
                        item: Iron Gate
                        amount: 64
                      - type: item
                        item: Ancient Tome
                        amount: 2
                      - type: item
                        item: Obsidian
                        amount: 32
                    unlocks:
                      - type: gates:resistance
                        percentage: 200
  unlockables:
    name: Unlockables
    description: Unlockables are a special research tree, consisting of researches that other colonists discover as the colony grows and progresses. This branch will only display once at least one research is available, and researches on this branch will complete instantly.
    chains:
      - name: String Mesh
        requirements:
          - type: building
            building: sifter
        unlocks:
          - type: worker:custom_template
            template: "{0} learns the [String Mesh](/source/items/meshes) recipe"
            worker: fletcher
        children:
          - name: Flint Mesh
            requirements:
              - type: building
                building: sifter
                level: 3
            unlocks:
              - type: worker:custom_template
                template: "{0} learns the [Flint Mesh](/source/items/meshes) recipe"
                worker: stonemason
            children:
              - name: Iron Mesh
                requirements:
                  - type: building
                    building: sifter
                    level: 4
                unlocks:
                  - type: worker:custom_template
                    template: "{0} learns the [Iron Mesh](/source/items/meshes) recipe"
                    worker: blacksmith
                children:
                  - name: Diamond Mesh
                    requirements:
                      - type: building
                        building: sifter
                        level: 5
                    unlocks:
                      - type: worker:custom_template
                        template: "{0} learns the [Diamond Mesh](/source/items/meshes) recipe"
                        worker: mechanic
